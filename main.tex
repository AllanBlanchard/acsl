\documentclass[a4paper,11pt,twoside,openright]{report}

\usepackage[T1]{fontenc}
\usepackage{times}
\usepackage{url,amssymb}
\usepackage{graphicx}
\usepackage{color}
\usepackage{xspace}
\usepackage{makeidx}
\makeindex
\input{./macros}

\setlength{\textheight}{240mm}
\setlength{\topmargin}{-10mm}
\setlength{\textwidth}{160mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\evensidemargin}{0mm}

\renewcommand{\textfraction}{0.01}
\renewcommand{\topfraction}{0.99}
\renewcommand{\bottomfraction}{0.99}

\usepackage{fancyheadings}
\pagestyle{fancyplain}
\renewcommand{\footrulewidth}{0.4pt}
\addtolength{\headheight}{2pt}
\addtolength{\headwidth}{1cm}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}
\chead{}
\rhead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries\thepage}}
\lfoot{\fancyplain{}{ANSI C Specification Language}}
\cfoot{}
\rfoot{\fancyplain{}{CAT RNTL project}}

\begin{document}
\sloppy

\begin{titlepage}
\begin{center}
~\vfill

\includegraphics[height=60mm]{FramaC.jpg}

\vspace{20mm}

{\Huge\bfseries ACSL: ANSI C Specification Language}

\vspace{20mm}

{P.~Baudin, J.-C.~Filli\^atre, Th.~Hubert,
  C.~March\'e, B.~Monate, Y.~Moy, V.~Prevosto}

\vspace{20mm}

Version of \today

\vfill 

\includegraphics[height=14mm]{cealistlogo.jpg}
\hfill 
\includegraphics[height=12mm]{inriafuturslogoshort.jpg}

\end{center}
\end{titlepage}

\clearpage
\label{chap:contents}
\tableofcontents

\include{intro}

\include{speclang}

\include{libraries}

\appendix

\chapter{Appendices}

\section{Quick reference card}

\todo{by Benjamin}

\section{Comparison with JML}

\todo{by Yannick}

\begin{verbatim}
  JML                  Frama-C

  loop_invariant       loop invariant 
  decreases            loop variant

\end{verbatim}

\remark{Yannick}{JML propose deux modes de spécification des fonctions~:
 soit à base de ``requires'' et ``ensures'', soit à base de
 ``behavior''. JML n'a pas de ``assumes'' dans les
  ``behaviors'', mais des ``requires''. Dans le cas où les deux modes
  peuvent se combiner, la sémantique est la suivante~:}

\begin{verbatim}
  requires P_1;
  requires P_2;
  ensures  Q_1;
  ensures  Q_2;
  behavior x_1: requires R_1; ensures E_1;
  behavior x_2: requires R_2; ensures E_2;
\end{verbatim}


\begin{verbatim}
 pre-condition : P_1 and P_2
             and (R_1 or R_2)
 post-condition: Q_1 and Q_2
             and (\old(R_1) implies E_1)
             and (\old(R_2) implies E_2)
\end{verbatim}


\remark{Yannick}{avoir ``requires'' en plus des ``assumes'' dans les
  ``behaviors'' semble utile :
la sémantique consiste à rajouter $(A_i \ra R_i)$ en conjonction de la
précondition globale}

\begin{verbatim}
  requires P_1;
  requires P_2;
  ensures  Q_1;
  ensures  Q_2;
  behavior x_1: requires R_1; assumes A_1; ensures E_1;
  behavior x_2: requires R_2; assumes A_2; ensures E_2;
\end{verbatim}


\begin{verbatim}
 pre-condition : P_1 and P_2
             and (A_1 implies R_1)
             and (A_2 implies R_2)
 post-condition: Q_1 and Q_2
             and (\old(A_1) implies E_1)
             and (\old(A_2) implies E_2)
\end{verbatim}

\cleardoublepage
\addcontentsline{toc}{chapter}{\bibname}
\bibliographystyle{plain}
\IfFileExists{biblio-demons.tex}{%
\input{biblio-demons.tex}
}{\bibliography{./biblio}}

\cleardoublepage
\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures

\cleardoublepage
\addcontentsline{toc}{chapter}{\indexname}
\printindex

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-PDF-mode: t
%%% TeX-master: t
%%% End:
